<!DOCTYPE html>

<html>

<head>
    <meta charset="UTF-8">
    <title>Animated Ball</title>

    <style type="text/css">
        canvas {
            border: 5px solid black;
            /* Black border */
            background-color: white;
            /* White background */
        }
    </style>

</head>

<body>
    <h1>Kyrylo Kozlovskyi</h1>
    <!-- Canvas 500x500 -->
    <canvas id="canvas-for-ball" height="500" width="500"></canvas>
    <!-- Script -->
    <script type="text/javascript">
        // Element id for canvas
        var canvas = document.getElementById("canvas-for-ball");
        // 2d context
        var ctx = canvas.getContext("2d");
        // Ball class
        class Ball {
            // Constructor for ball class with x, y, xspeed, yspeed, radius parameters
            constructor(x, y, xspeed, yspeed, radius) {
                this.x = x;
                this.y = y;
                this.xspeed = xspeed;
                this.yspeed = yspeed;
                this.radius = radius;
            }

            // Draw peace sign
            draw() {
                ctx.clearRect(0, 0, ctx.canvas.height, ctx.canvas.width); // Clear canvas
                ctx.beginPath(); // Start drawing the peace sign

                // Outer circle
                ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);
                ctx.stroke();

                // Vertical line
                ctx.moveTo(this.x, this.y - this.radius); // Start from the top of the circle
                ctx.lineTo(this.x, this.y + this.radius); // Draw a line to the bottom of the circle
                ctx.stroke(); // Draw the line

                // Left diagonal line
                ctx.moveTo(this.x, this.y); // Start from the center of the circle
                ctx.lineTo(this.x - this.radius * Math.cos(7 * Math.PI / 4), this.y + this.radius * Math.sin(Math.PI / 4)); // Draw a line to the bottom left of the circle
                ctx.stroke(); // Draw the line

                // Right diagonal line
                ctx.moveTo(this.x, this.y); // Start from the center of the circle
                ctx.lineTo(this.x + this.radius * Math.cos(7 * Math.PI / 4), this.y + this.radius * Math.sin(Math.PI / 4)); // Draw a line to the bottom right of the circle
                ctx.stroke(); // Draw the line

            }

            // Move ball
            move() {
                // Update the x, y location
                this.y += this.yspeed;
                this.x += this.xspeed;
                // Up -> Down bounce
                if (this.y >= ctx.canvas.height - this.radius) {
                    this.yspeed = this.yspeed * -1;
                }
                else if (this.y <= this.radius) {
                    this.yspeed = this.yspeed * -1;
                }
                // Left -> Right bounce
                if (this.x >= ctx.canvas.width - this.radius) {
                    this.xspeed = this.xspeed * -1;
                }
                else if (this.x <= this.radius) {
                    this.xspeed = this.xspeed * -1;
                }
            }

        }

        const ball = new Ball(50, 50, 2, 3, 50); // Create ball
        // Animation func
        function repeatme() {
            ball.draw(); // Draw the ball
            ball.move(); // Move the ball
            window.requestAnimationFrame(repeatme); // Draw the frame

        }
        repeatme(); // Start animation
    </script>
</body>

</html>